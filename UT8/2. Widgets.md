# Widgets

En Odoo podemos utilizar widgets para mejorar la utilidad, comprensión y atractivo de nuestras vistas. A continuación, te dejo todos los widgets que considero más importantes, ordenados según tipo de dato.

Esta lista de widgets debería ser válida para las versiones 16 en adelante, aunque puede que alguno de estos widgets no estén en versiones anteriores.

Se han omitido algunos widgets que cambian un tipo de campo por otro, como el widget `text`, ya que, a efectos prácticos, transforma un campo `Char` en un campo `Text` y viceversa, el widget `char` que muestra un campo `Text`en una sola línea, como si fuese un `Char`.

## Char

### char_emojis

Permite añadir emojis:

```xml
<field name="field" widget="char_emojis"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets1.png)


### url

Permite acceder al destino de la URL con un click:

```xml
<field name="field" widget="url"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets2.png)


### badge

Muestra el texto como si fuese una píldora:

```xml
<field name="field" widget="badge"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets3.png)


Después de añadir este widget el campo no será editable desde la vista. 

### email

Permite enviar correos al hacer click:

```xml
<field name="field" widget="email"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets4.png)

### phone

Permite hacer llamadas o enviar SMS:

```xml
<field name="field" widget="phone"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets6.png)


### CopyClipboardChar

Permite copiar el contenido del campo char:

```xml
<field name="field" widget="CopyClipboardChar"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets5.png)

Como puedes observar, también cambia cómo se ve el campo.

### domain

Muestra una sección para agregar un filtro de dominio. En vista, debemos especificar el nombre del modelo que debe filtrarse en el atributo de opciones:

```xml
<field name="field" widget="domain" options="{'model': 'my_module.my_model'}"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets7.png)
![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets8.png)

### image_url

Permite mostrar un campo `Char` como una imagen. Muy útil, ya que se puede poner directamente la URL de la imagen. También permite utilizar archivos de imagen de la propia computadora:

```xml
<field name="field" widget="image_url" style="width: 100px; height: 100px;"/>
```

Para su creación se recomienda utilizar dos campos, para poder ocultar uno de ellos:

```python
#En el modelo

from odoo import models, fields, api

class YourModel(models.Model):
    _name = 'your.model'
    _description = 'YourModel'

    field1 = fields.Char(string="Image URL")
    field2 = fields.Boolean(string="Is Image URL Set", compute="_compute_field2")

    @api.depends('field1')
    def _compute_field2(self):
        for record in self:
            record.field2 =  True if record.field1 else False
```

```xml
<!-- En la vista -->
<record id="view_your_model_form" model="ir.ui.view">
    <field name="name">your.model.form</field>
    <field name="model">your.model</field>
    <field name="arch" type="xml">
        <form>
            <sheet>
                <group name="group_top">
                    <group name="group_left">
                        <field name="field2" attrs="{'invisible': True}"/>
                        <field name="field1" attrs="{'invisible': [('field2', '=', True)]}" placeholder="Enter Image URL"/>
                        <field name="field1" widget="image_url" attrs="{'invisible': [('field2', '=', False)]}"/>
                    </group>
                    <group name="group_right">
                    </group>
                </group>
            </sheet>
        </form>
    </field>
</record>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets13.gif)

## Integer

### color_picker

Permite elegir un color:

```xml
<field name="field" widget="color_picker"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets9.png)

En la base de datos se guarda un número, aunque veas un color.

### percentpie

**También puede usarse en Float**. Muestra el número como un gráfico de porcentaje en un círculo:

```xml
<field name="field" widget="percentpie"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets10.png)


### progressbar

**También puede usarse en Float**. Muestra el número como una barra de progreso:

```xml
<field name="field" widget="progressbar"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets11.png)

### handle

**Sólo en vista tree/list**. Permite cambiar el orden de visionado de la lista:

```xml
<field name="field" widget="handle"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets12.png)

### percentage

**También puede usarse en Float**. Muestra un símbolo de porcentaje al final:

```xml
<field name="field" widget="percentage"/>
```

![widget](https://raw.githubusercontent.com/canarydev/SGE/refs/heads/main/static/images/UT8/widgets13.png)


